(function(t){function e(e){for(var o,n,c=e[0],l=e[1],i=e[2],d=0,h=[];d<c.length;d++)n=c[d],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&h.push(a[n][0]),a[n]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);u&&u(e);while(h.length)h.shift()();return r.push.apply(r,i||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],o=!0,c=1;c<s.length;c++){var l=s[c];0!==a[l]&&(o=!1)}o&&(r.splice(e--,1),t=n(n.s=s[0]))}return t}var o={},a={app:0},r=[];function n(e){if(o[e])return o[e].exports;var s=o[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=o,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(s,o,function(e){return t[e]}.bind(null,o));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var i=0;i<c.length;i++)e(c[i]);var u=l;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var o=s("85ec"),a=s.n(o);a.a},"06a9":function(t,e,s){},"2cd7":function(t,e,s){},"33e8":function(t,e,s){"use strict";var o=s("5e95"),a=s.n(o);a.a},"360c":function(t,e,s){"use strict";var o=s("06a9"),a=s.n(o);a.a},4770:function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e),s.d(e,"eventBus",(function(){return pt}));s("e260"),s("e6cf"),s("cca6"),s("a79d");var o=s("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[t._m(0),s("div",{staticClass:"tab"},[s("button",{staticClass:"tablinks",attrs:{id:"defaultOpen"},on:{click:function(e){return t.openTab("SummaryPage")}}},[t._v("Summary")]),s("button",{staticClass:"tablinks",on:{click:function(e){return t.openTab("StockChart")}}},[t._v("Stocks")])]),s("div",{staticClass:"tabcontent",attrs:{id:"SummaryPage"}},[s("div",{staticClass:"summary-container"},[s("h1",[t._v("Summary")]),s("summary-list",{attrs:{stocks:t.stocks}})],1),s("div",{staticClass:"chart-container"},[s("summary-stock-chart")],1)]),s("div",{staticClass:"tabcontent",attrs:{id:"StockChart"}},[s("div",{staticClass:"chart-container"},[s("div",{staticClass:"list-container"},[s("h2",{staticClass:"list-head"},[t._v("Your Shares")]),s("stocks-list",{attrs:{stocks:t.stocks}}),s("add-stock")],1),s("stock-chart",{attrs:{stock:t.selectedStock}})],1),t.selectedStock?s("stock-detail",{attrs:{stock:t.selectedStock}}):t._e()],1),t._m(1)])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("img",{attrs:{src:"/images/storacle-logo.png",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"footer"},[s("p",{staticClass:"sponsor"},[t._v("Sponsored by OnTrack"),s("span",[t._v(".")])])])}],n=(s("ac1f"),s("5319"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"chart"},[t.stock?s("highcharts",{staticClass:"stock-chart",attrs:{"constructor-type":"stockChart",options:t.stockOptions}}):s("h1",[t._v("Select a stock to begin")])],1)}),c=[],l=(s("b0c0"),s("ea7f")),i=s.n(l);i.a.createElement("link",{href:'https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700&display=swap" rel="stylesheet',rel:"stylesheet",type:"text/css"},null,document.getElementsByTagName("head")[0]),i.a.theme={colors:["#F4B41A","#90ee7e","#f45b5b","#7798BF","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],chart:{backgroundColor:{linearGradient:{x1:0,y1:0,x2:1,y2:1},stops:[[0,"#2a2a2b"]]},style:{fontFamily:"'Nunito', sans-serif"},plotBorderColor:"#606063"},title:{style:{color:"ghostwhite",textTransform:"uppercase",fontSize:"20px"}},subtitle:{style:{color:"ghostwhite",textTransform:"uppercase"}},xAxis:{gridLineColor:"#707073",labels:{style:{color:"ghostwhite"}},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",title:{style:{color:"ghostwhite"}}},yAxis:{gridLineColor:"#707073",labels:{style:{color:"ghostwhite"}},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",tickWidth:1,title:{style:{color:"ghostwhite"}}},tooltip:{backgroundColor:"dimgrey",style:{color:"#F0F0F0"}},plotOptions:{series:{dataLabels:{color:"#F0F0F3",style:{fontSize:"13px"}},marker:{lineColor:"#333"}},boxplot:{fillColor:"#505053"},candlestick:{lineColor:"ghostwhite"},errorbar:{color:"ghostwhite"}},legend:{backgroundColor:"rgba(0, 0, 0, 0.5)",itemStyle:{color:"ghostwhite"},itemHoverStyle:{color:"#FFF"},itemHiddenStyle:{color:"#606063"},title:{style:{color:"#C0C0C0"}}},credits:{style:{color:"#3e3e40"}},labels:{style:{color:"#707073"}},drilldown:{activeAxisLabelStyle:{color:"#F0F0F3"},activeDataLabelStyle:{color:"#F0F0F3"}},navigation:{buttonOptions:{symbolStroke:"#DDDDDD",theme:{fill:"#505053"}}},rangeSelector:{buttonTheme:{fill:"#505053",stroke:"#000000",style:{color:"#CCC"},states:{hover:{fill:"#F4B41A",stroke:"#000000",style:{color:"ghostwhite"}},select:{fill:"#F4B41A",stroke:"#000000",style:{color:"ghostwhite"}}}},inputBoxBorderColor:"#505053",inputStyle:{backgroundColor:"#333",color:"silver"},labelStyle:{color:"silver"}},navigator:{handles:{backgroundColor:"#666",borderColor:"#AAA"},outlineColor:"#CCC",maskFill:"rgba(255,255,255,0.1)",series:{color:"#F4B41A",lineColor:"#F4B41A"},xAxis:{gridLineColor:"#505053"}},scrollbar:{barBackgroundColor:"#808083",barBorderColor:"#808083",buttonArrowColor:"#CCC",buttonBackgroundColor:"#606063",buttonBorderColor:"#606063",rifleColor:"#FFF",trackBackgroundColor:"#404043",trackBorderColor:"#404043"}},i.a.setOptions(i.a.theme);Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_ENV_SHARESAPI;var u={name:"stock-chart",props:["stock"],computed:{stockOptions:function(){return this.stock?{rangeSelector:{selected:4},title:{text:"".concat(this.stock.name," Close Values")},series:[{name:"".concat(this.stock.symbol),data:this.stock.closeValues,type:"areaspline",threshold:null,tooltip:{valueDecimals:2},fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,i.a.getOptions().colors[0]],[1,i.a.color(i.a.getOptions().colors[0]).setOpacity(0).get("rgba")]]}}]}:{}}}},d=u,h=(s("33e8"),s("2877")),m=Object(h["a"])(d,n,c,!1,null,null,null),p=m.exports,f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"stock-list",attrs:{id:"stockList"}},[s("ul",t._l(t.stocks,(function(t,e){return s("list-item",{key:e,attrs:{stock:t}})})),1)])},k=[],v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"list-item",on:{click:t.handleClick}},[t._v(t._s(t.stock.symbol))])},b=[],y={name:"list-item",props:["stock"],methods:{handleClick:function(){pt.$emit("stock-selected",this.stock)}}},S=y,C=Object(h["a"])(S,v,b,!1,null,"03359ad2",null),g=C.exports,_={name:"stocks-list",props:["stocks"],components:{"list-item":g}},w=_,x=Object(h["a"])(w,f,k,!1,null,"05a9de50",null),O=x.exports,A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.stock?s("div",{staticClass:"stock-detail",attrs:{id:"StockDetail"}},[s("div",{staticClass:"stock-detail-item"},[s("h2",[t._v(t._s(t.stock.name))]),s("p",[t._v("You own "),s("span",[t._v(t._s(t.stock.shares))]),t._v(" shares worth "),s("span",[t._v("$ "+t._s(t.stock.totalValue))])])]),s("div",{staticClass:"stock-detail-form"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.handleUpdate(e)}}},[s("label",{attrs:{for:"shares-number"}},[t._v("Shares: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.updatedStock.shares,expression:"updatedStock.shares"}],attrs:{type:"number",name:"shares-number",required:""},domProps:{value:t.updatedStock.shares},on:{input:function(e){e.target.composing||t.$set(t.updatedStock,"shares",e.target.value)}}}),s("input",{attrs:{type:"submit",value:"Update Shares"}})])])]):t._e()},F=[],E={data:function(){return{updatedStock:{_id:this.stock._id,shares:null,latestCloseValue:this.stock.closeValues[99][1]}}},name:"stock-detail",props:["stock"],methods:{handleUpdate:function(){this.stock.shares=this.updatedStock.shares,this.stock.totalValue=parseInt(this.updatedStock.latestCloseValue*this.updatedStock.shares),pt.$emit("updated-stock",this.updatedStock),this.updatedStock.shares=null}},computed:{}},j=E,B=(s("c819"),Object(h["a"])(j,A,F,!1,null,"823e8eba",null)),N=B.exports,$=(s("d3b7"),"api/shares/"),P={getStocks:function(){return fetch($).then((function(t){return t.json()}))},addStock:function(t){var e=t.symbol,s="stock/";return fetch($+s+e,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()}))},updateStock:function(t){var e=t._id,s={name:t.name,symbol:t.symbol,shares:parseInt(t.shares),totalValue:parseInt(t.latestCloseValue*t.shares)};return fetch($+e,{method:"PATCH",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()}))}},V=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"popup"},[s("span",{staticClass:"popup-add",on:{click:t.loadAddNewStockForm}},[t._v("Add New Stock")]),s("span",{class:[t.isActive?"popuptext popuptextvisable":"popuptext popuptexthidden"],attrs:{id:"myPopup"}},[s("span",{staticClass:"close",attrs:{id:"myPopupClose"},on:{click:t.CloseAddNewStockForm}},[t._v("Ã—")]),s("form",{staticClass:"popup-form",attrs:{id:"submit-form"},on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[s("form",{on:{submit:function(e){return e.preventDefault(),t.searchSymbol(e)}}},[s("label",{attrs:{for:"search"}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{type:"text",name:"search",value:"",required:""},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),s("br"),s("input",{attrs:{type:"submit",name:"search",value:"Search"}}),s("br"),s("hr")]),s("label",{attrs:{for:"stocksearch"}},[t._v("Select Stock: ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedStock.symbol,expression:"selectedStock.symbol"}],attrs:{name:"stocksearch"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.selectedStock,"symbol",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"",disabled:""}}),t._l(t.searchResult,(function(e){return s("option",{attrs:{required:""},domProps:{value:e}},[t._v(t._s(e["1. symbol"])+" - "+t._s(e["2. name"]))])}))],2),s("br"),s("br"),s("label",{attrs:{for:"shares-amount"}},[t._v("Shares owned:")]),s("br"),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.selectedStock.shares,expression:"selectedStock.shares",modifiers:{number:!0}}],attrs:{type:"number",id:"shares-amount",required:"",name:"shares-amount"},domProps:{value:t.selectedStock.shares},on:{input:function(e){e.target.composing||t.$set(t.selectedStock,"shares",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),s("br"),s("input",{attrs:{type:"submit",name:"submit",value:"Add Stock"}}),s("br")])])])},D=[],T=(s("99af"),s("841c"),Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_ENV_SHARESAPI),L={name:"add-stock",data:function(){return{search:"",searchResult:[],selectedStock:{symbol:"",shares:""},newStock:{name:"",symbol:"",shares:""},isActive:!1,selected:[]}},methods:{loadAddNewStockForm:function(){this.isActive=!0},handleSubmit:function(){this.newStock={name:this.selectedStock.symbol["2. name"],symbol:this.selectedStock.symbol["1. symbol"],shares:this.selectedStock.shares},pt.$emit("submit-stock",this.$data.newStock),this.newStock.name=this.newStock.shares=this.newStock.symbol=this.search=this.selectedStock.shares=this.selectedStock.symbol="",this.searchResult=[],this.isActive=!1},CloseAddNewStockForm:function(){this.isActive=!1},searchSymbol:function(){var t=this;fetch("https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=".concat(this.search,"&apikey=").concat(T)).then((function(t){return t.json()})).then((function(e){t.searchResult=e.bestMatches}))}}},I=L,R=(s("dcdd"),Object(h["a"])(I,V,D,!1,null,null,null)),U=R.exports,H=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"summary-list"},[s("ul",t._l(t.stocks,(function(t,e){return s("summary-list-item",{key:e,attrs:{stock:t}})})),1),s("div",{staticClass:"total"},[s("h1",[t._v("Total Value: "),s("span",[t._v("$ "+t._s(t.totalPortfolioValue))])])])])},M=[],q=(s("13d5"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"summary-list-items"},[s("li",{staticClass:"summary-list-item"},[s("h2",[t._v(t._s(t.stock.name))])]),s("li",{staticClass:"summary-list-item"},[s("h3",[t._v("$"+t._s(t.stock.totalValue))])])])}),G=[],J={name:"summary-list-item",props:["stock"]},Y=J,z=(s("360c"),Object(h["a"])(Y,q,G,!1,null,"428bdfc7",null)),W=z.exports,K={name:"summary-list",props:["stocks"],data:function(){return{}},components:{"summary-list-item":W},computed:{totalPortfolioValue:function(){return this.stocks?this.$totalPortfolioValue=this.stocks.reduce((function(t,e){return t+e.totalValue}),0):{}}}},Q=K,X=(s("b3cc"),Object(h["a"])(Q,H,M,!1,null,"0d040ea8",null)),Z=X.exports,tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"chart"},[s("highcharts",{staticClass:"summary-stock-chart",attrs:{"constructor-type":"stockChart",options:t.summaryStockOptions}})],1)},et=[],st=(s("d81d"),{name:"summary-stock-chart",data:function(){return{stocks:null}},methods:{importShareData:function(){var t=this;fetch("http://localhost:3000/api/shares/").then((function(t){return t.json()})).then((function(e){return t.stocks=e}))}},mounted:function(){this.importShareData()},computed:{series:function(){return this.stocks?this.stocks.map((function(t){return{name:t.name,data:t.closeValues,threshold:null,showInNavigator:!0,compare:"percent"}})):{}},summaryStockOptions:function(){return{rangeSelector:{selected:4},yAxis:{labels:{formatter:function(){return(this.value>0?" + ":"")+this.value+"%"}},plotLines:[{value:0,width:2,color:"silver"}]},plotOptions:{series:{showInNavigator:!0}},tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b> ({point.change}%)<br/>',valueDecimals:2,split:!0},title:{text:"Your Stocks: Close Values"},series:this.series}}}}),ot=st,at=Object(h["a"])(ot,tt,et,!1,null,null,null),rt=at.exports,nt={name:"App",data:function(){return{stocks:[],selectedStock:null}},components:{"stock-chart":p,"stocks-list":O,"stock-detail":N,"add-stock":U,"summary-list":Z,"summary-stock-chart":rt},mounted:function(){var t=this;this.getStocks(),pt.$on("submit-stock",(function(e){P.addStock(e).then((function(e){return t.stocks.push(e)}))})),pt.$on("updated-stock",(function(e){P.updateStock(e).then((function(){return t.getStocks()}))})),pt.$on("stock-selected",(function(e){return t.selectedStock=e})),this.openDefaultTab("defaultOpen")},methods:{getStocks:function(){var t=this;P.getStocks().then((function(e){return t.stocks=e}))},openTab:function(t){var e,s,o;for(s=document.getElementsByClassName("tabcontent"),e=0;e<s.length;e++)s[e].style.display="none";for(o=document.getElementsByClassName("tablinks"),e=0;e<o.length;e++)o[e].className=o[e].className.replace(" active","");document.getElementById(t).style.display="block",event.currentTarget.className+=" active"},openDefaultTab:function(t){document.getElementById(t).click()}}},ct=nt,lt=(s("034f"),Object(h["a"])(ct,a,r,!1,null,null,null)),it=lt.exports,ut=s("4452"),dt=s.n(ut),ht=s("37d8"),mt=s.n(ht),pt=new o["a"];mt()(i.a),o["a"].config.productionTip=!1,o["a"].use(dt.a),new o["a"]({render:function(t){return t(it)}}).$mount("#app")},"5e95":function(t,e,s){},"85ec":function(t,e,s){},b3cc:function(t,e,s){"use strict";var o=s("ec33"),a=s.n(o);a.a},c819:function(t,e,s){"use strict";var o=s("4770"),a=s.n(o);a.a},dcdd:function(t,e,s){"use strict";var o=s("2cd7"),a=s.n(o);a.a},ec33:function(t,e,s){}});
//# sourceMappingURL=app.24bb2e47.js.map